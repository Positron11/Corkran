{% extends 'Blog/base.html' %}

{% block title %}Profile{% endblock %}

{% block content %}

<!-- Header card -->
<div class="special card">
	<!-- Header -->
	<div class="header">
		<div class="heading">"{{ user.username }}"</div>
		<div class="subheading">That's your identity here on Corkran.</div>
	</div>

	<!-- Bio -->
	<div class="text">
		{% if user.profile.bio %}
		<i class="fas fa-quote-left"></i>
		{{ user.profile.bio|urlizetrunc:40 }}&nbsp;
		<i class="fas fa-quote-right"></i>
		{% else %}
		You don't have a bio, yet. Consider writing one, for the sake of context. 
		Or, if you're strongly of the opinion that your writing speaks for itself, 
		you might as well leave it blank. Just write your bio.
		{% endif %}
	</div>
</div>


<!-- Navigation dock -->
<div class="nowrap list-box blur-overflow center-align normal-spacing">
	<a href="#articles" class="small button">Articles you've written</a>
	<a href="#tags" class="small button">Tags you've used</a>
	<a href="#subscriptions" class="small button">Authors you're subscribed to</a>
</div>


<!-- Offset anchor -->
<div id="articles" class="offset anchor"></div>

<!-- Articles by user -->
<fieldset class="card">
	<!-- Heading -->
	<legend class="heading">Articles</legend>

	<div class="vertically-space-items">
		<!-- Subheading -->
		<div class="subheading closer-below">Your articles on Corkran.</div>

		<!-- Articles list -->
		<div class="list-box normal-spacing">
			{% for article in articles %}
			<a class="unformatted single-line-text word-card card" href="{{ article.get_absolute_url }}">
				<span class="montserrat text">"{{ article.title }}"</span>
			</a>
			{% empty %}
			<div class="special minimal card">
				<span>You haven't written any articles yet. Consider <a href="{% url 'create-article' %}">writing one now</a>.</span>
			</div>
			{% endfor %}
		</div>
	</div>
</fieldset>


<!-- Offset anchor -->
<div id="tags" class="offset anchor"></div>

<!-- Tags -->
<fieldset class="card">
	<!-- Heading -->
	<legend class="heading">Tags</legend>
	
	<div class="vertically-space-items">
		<!-- Subheading -->
		<div class="subheading closer-below">All the tags you have on your articles.</div>

		<!-- Tags list -->
		<div class="list-box compact-spacing">
			{% for tag in tags %}
			<a class="single-line-text tag" href="{% url 'tag-sorted-articles' tag %}">{{ tag }}</a>
			{% empty %}
			<div class="special minimal card">
				<span>You haven't written any articles yet. Consider <a href="{% url 'create-article' %}">writing one now</a>.</span>
			</div>
			{% endfor %}
		</div>
	</div>
</fieldset>


<!-- Offset anchor -->
<div id="subscriptions" class="offset anchor"></div>

<!-- Subscriptions -->
<fieldset class="card">
	<!-- Heading -->
	<legend class="heading">Subscriptions</legend>
	
	<div class="vertically-space-items">
		<!-- Subheading -->
		<div class="subheading closer-below">Authors you have subscribed to.</div>

		<!-- Tags list -->
		<div class="list-box compact-spacing">
			{% for author in subscribed_authors %}
			<a class="unformatted single-line-text card word-card" href="{% url 'author-sorted-articles' author %}">
				<span class="montserrat text">{{ author.username }}</span>
			</a>
			{% empty %}
			<div class="special minimal card">
				<span>You haven't subscribed to any authors yet. <a href="{% url 'author-sorted-articles' random_user %}">Find an author you like</a>.</span>
			</div>
			{% endfor %}
		</div>
	</div>
</fieldset>

<!-- Scroll to top button -->
<a href="#top" class="floating-btn scroll-top-btn" title="Back to Top">
	<i class="fas fa-chevron-up"></i>
</a>

{% endblock %}