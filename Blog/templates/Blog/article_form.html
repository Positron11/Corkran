{% extends 'Blog/base.html' %}

{% block title %}Article Editor{% endblock %}

{% block content %}

<!-- New article -->
<fieldset class="card">
	<!-- Heading -->
	<legend class="heading">Editor</legend>
	
	<!-- Form -->
	<form class="vertically-space-items confirm-leave" id="article_form" method="post" autocomplete="off" enctype="multipart/form-data">{% csrf_token %}
		<!-- Form navigation -->
		<label>Go to:</label>
		<div>
			<div class="nowrap list-box blur-overflow compact-spacing">
				<a href="#title" class="small button">Title</a>
				<a href="#content" class="small button">Content</a>
				<a href="#tags" class="small button">Tags</a>
				<a href="#image" class="small button">Image</a>
				<a href="#unsplash" class="small button">Unsplash Search</a>
			</div>
		</div>

		<!-- Title -->
		<div class="anchor" id="title"></div>
		<label>{{ form.title.label }}:</label>
		{{ form.title }}

		<!-- Content -->
		<div class="anchor" id="content"></div>
		<label>{{ form.content.label }}:</label>
		{{ form.content }}

		<!-- Tags -->
		<div class="anchor" id="tags"></div>
		<label>Tags separated by commas:</label>
		{{ form.tags }}

		<!-- Tag suggestion box -->
		<div id="suggested_tags" style="display: none;">
			<label style="display: block; margin-bottom: 0.5em;">Similar popular tags:</label>
			<div class="card compact">
				<div class="list-box compact-spacing">
					{% for tag in tags %}
					<div class="clickable tag">{{ tag }}</div>
					{% endfor %}
				</div>
			</div>
		</div>

		<div class="anchor" id="image"></div>
		{% if form.instance.thumbnail %}
		<!-- Remove thumbnail -->
		<label>Remove thumbnail:</label>
		<div>
			<input type="checkbox" name="thumbnail-clear" id="thumbnail-clear_id" style="display: inline-block;">
			<label for="thumbnail-clear_id">Remove</label>
		</div>
		{% endif %}

		<!-- Upload thumbnail -->
		<label id="id_thumbnail_label">Upload thumbnail (<span>no file selected</span>):</label>
		<div>
			<label id="thumbnail_button" for="id_thumbnail" class="small button"><i class="fas fa-upload"></i> Upload</label>
			<input type="file" name="thumbnail" accept="image/*" id="id_thumbnail">
		</div>

		<!-- Attribution -->
		<label>Image attribution (ex: Photo by "Name"):</label> 
		<input type="text" name="attribution" maxlength="100" id="id_attribution" placeholder="Attribution or caption..." value="{{ form.instance.attribution }}">

		<!-- Submit button -->
		<div class="right-align-text">
			<button class="button" type="submit">Post</button>
		</div>
	</form>
</fieldset>

<!-- Integrated image search -->
<div class="anchor" id="unsplash"></div>
<fieldset class="card">
	<legend class="heading">Image Search</legend>
	<form id="unsplash_search_form" action="" autocomplete="off">
		<label for="">Find a high-quality image for your article:</label>
		<div class="input-bar">
			<input type="text" id="unsplash_search" placeholder="Search on Unsplash...">
			<button class="button" type="submit"><i class="fas fa-search"></i></button>
		</div>
	</form>
</fieldset>

{% endblock %}


{% block floating-button %}
<!-- Scroll to top button -->
<a href="#top" class="floating-btn scroll-top-btn" title="Back to Top">
	<i class="fas fa-chevron-up"></i>
</a>
{% endblock %}